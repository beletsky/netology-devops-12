# Домашнее задание к занятию "4.3. Языки разметки JSON и YAML"

> 1. Мы выгрузили JSON, который получили через API запрос к нашему сервису:
> 	```json
>     { "info" : "Sample JSON output from our service\t",
>         "elements" :[
>             { "name" : "first",
>             "type" : "server",
>             "ip" : 7175 
>             },
>             { "name" : "second",
>             "type" : "proxy",
>             "ip : 71.78.22.43
>             }
>         ]
>     }
> 	```
>   Нужно найти и исправить все ошибки, которые допускает наш сервис

Отформатируем JSON в более каноническом виде:

```json
{
  "info": "Sample JSON output from our service\t",
  "elements": [
    {
      "name": "first",
      "type": "server",
      "ip": 7175
    },
    {
      "name": "second",
      "type": "proxy",
      "ip : 71.78.22.43
    }
  ]
}
```

Прежде всего, исправляем ошибки синтаксиса:

- добавляем закрывающие кавычки в названии поля `ip` во втором элементе массива `elements`;
- заключаем указанный в этом элементе ip-адрес в кавычки, поскольку он не является допустимым типом данных для JSON.

Затем отметим также, что в первом элементе массива `elements` поле `ip` имеет целочисленное значение. Скорее всего, это ошибка, и здесь должна быть указана строка с корректным ip-адресом. Но, возможно, это корректное значение, соответствующее адресу 0x00001C07 == 0.0.28.7. Тогда некорректным является строковое значение во втором элементе массива. Предположим, что верно первое предположение, тогда исправим целое значение 7175 на строковое "0.0.28.7".

Отметим также, что в соответствии со [стандартом JSON](https://datatracker.ietf.org/doc/html/rfc8259) использование пробелов между токенами является необязательным (и на практике пробелы не указывают, чтобы уменьшить размер документа). Поэтому в окончательном виде документ можно представить в таком виде:

```json
{"info":"Sample JSON output from our service\t","elements":[{"name":"first","type":"server","ip":"0.0.28.7"},{"name":"second","type":"proxy","ip":"71.78.22.43"}]}
```

> 2. В прошлый рабочий день мы создавали скрипт, позволяющий опрашивать веб-сервисы и получать их IP. К уже реализованному функционалу нам нужно добавить возможность записи JSON и YAML файлов, описывающих наши сервисы. Формат записи JSON по одному сервису: { "имя сервиса" : "его IP"}. Формат записи YAML по одному сервису: - имя сервиса: его IP. Если в момент исполнения скрипта меняется IP у сервиса - он должен так же поменяться в yml и json файле.

[Ответ](task2.py)

Добавил в функцию IpCache.write() запись текущего состояния кэша адресов сервисов в форматах JSON и YAML.
