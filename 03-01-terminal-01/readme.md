# Домашнее задание к занятию "3.1. Работа в терминале, лекция 1"

## 8. Настройка bash

- длина журнала history может быть задана в переменной окружения `HISTSIZE`. Она описана в абзаце раздела `Shell Variables` начиная со строки 792, а также в абзаце раздела `HISTORY` `man bash`, начиная со строки 2767. Если данная переменная не установлена, используется значение по умолчанию 500. Кроме того, можно задать это количество в переменной `history-size` библиотеки `readline`. Это описано в строке 2212 `man bash`. В последнем случае значение переменной окружения `HISTSIZE` использоваться не будет.
- "A value of `ignoreboth` is shorthand for `ignorespace` and `ignoredups`." Когда эта директива активна, в истории не сохраняются строки, начинающиеся с пробельного символа (за это отвечает директива `ignorespace`), а также при добавлении очередной команды из истории удаляются все предыдущие её использования (точные копии, директива `ignoredups`).

## 9. Использование {}

Фигурные скобки используются в следующих случаях:

- строка 241 - для создания групп команд;
- строка 1001 - для механизма brace expansion (создания строк на основе шаблонов);
- строка 1065 - для доступа к переменным окружения, в том числе массивам (строка 920);
- строка 1366 - для именования потоков перенаправления;
- строка 2003 - для задания формата даты в приглашении bash.

## 10. Массовое создание файлов

touch file{0..0100000}.txt

Поскольку раскрытие скобок происходит до выполнения каких-либо команд, с большим диапазоном скорее всего будут возникать проблемы с недостатком памяти.

## 11. Конструкция \[\[ \]\]

Данная конструкция используется для вычисления логических выражений. Её значением может быть только 0 или 1.

Например, конструкция `[[ -d /tmp ]]` возвратит 1, если в системе есть каталог `/tmp`, или 0 в противном случае.

## 12. Запуск bash из разных мест

```
mkdir /tmp/new_path_directory && ln -s /usr/bin/bash /tmp/new_path_directory && PATH=/tmp/new_path_directory:$PATH type -a bash
```

## 13. `batch` VS `at`

Отличие команд `batch` от `at` в том, что они помещают переданные им в качестве аргумента команды в разные очереди исполнения. Команда `at` - в очередь `a`, команда `batch` - в очередь `b`. Чем больше буква очереди, тем менее нагруженной должна быть система, чтобы началось исполнение команд в этой очереди. По сути, это позволяет задать для команд "приоритет исполнения", когда часть из них должна выполнится в "более обязательно". Условие "нагруженности" определяется по характеристике `load factor` системы, и может быть изменено командой `atd`.